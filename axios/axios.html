<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <!-- 成功 -->
    { code: 0, data: {} }
    <!-- 错误 -->
    { code: 1, err: '' }
    <!-- 未授权或过期 -->
    httpCode: 403 { code: 3 }

    <!-- header头没有携带token -->
    httpCode: 403 { code: 2 }




    <button id="box1">发送get请求</button>
    <button id="box2">发送post请求</button>

    <!-- <script src="./axios.js"></script> -->
    <script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"></script>
    <script src="https://cdn.bootcss.com/qs/6.5.2/qs.min.js"></script>
    <!-- <script src="./request.js"></script> -->
    <script>
        let box1 = document.getElementById('box1')
        let box2 = document.getElementById('box2')
        box1.onclick = function () {
            axios.post('https://apitest.acced.cn/token', Qs.stringify({ grant_type: 'client_credentials' }), {
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    'Authorization': 'Basic MTg1ODU1MTExNTI6MzM3Mg=='
                },
            }).then(res => {
                console.log(res);
            }).catch(err => {
                console.log(err);
            })


            // 两种调用方式都可以
            // server({
            //     url: '/api/v1/test',
            //     method: 'get',
            // }).then(res => {
            //     console.log(res)
            // }).catch(err => {
            //     console.log(222)
            // })
            // server.get('/api/v1/test').then(res=>{
            //     console.log(res)
            // })
            // axios.get('/api/v1/test').then(res => {
            //     console.log(1, res)
            // }).catch(err => {
            //     console.log(2, err)
            // })

            // // 如果是全路径就不会在前面添加 baseURL
            // axios.get('http://admin.com/api/v1/test', {
            //     // 在这里配置的会覆盖先前配置的配置项
            //     baseURL: 'http://admin.com',
            //     params: {
            //         ID: 12345
            //     },
            // }).then(res => {
            //     console.log(1, res)
            // }).catch(err => {
            //     console.log(2, err)
            // })




            // axios.get('http://admin.com/api/v1/test').then(res => {
            //     console.log(11111)
            // }).catch(error => {
            //     if (error.response) {
            //         // 请求已发出，但服务器响应的状态码不在 2xx 范围内
            //         console.log(error.message)
            //         console.log(error.response.data);
            //         console.log(error.response.status);
            //         console.log(error.response.headers);
            //     } else {
            //         // Something happened in setting up the request that triggered an Error
            //         console.log('Error', error.message);
            //     }
            // })




        }


        // function test() {
        //     return new Promise((resolve, reject) => {
        //         reject(12312)
        //     })
        // }
        // test().then(() => {
        //     console.log(111)
        // }).then(() => {
        //     console.log(222)
        // }).then(() => {
        //     console.log(333)
        // })
    </script>
</body>

</html>